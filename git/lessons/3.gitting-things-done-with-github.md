# 3. "Gitting" Things Done with GitHub

## Lesson Objectives
In this lesson we will cover:
- why use remote repositories?
- creating a remote repository
- linking a remote repo to an existing local repo
- expanding the Git work cycle to incorporate a remote repo

-------------------------------------------------------------------------------------------------------------
## Why use remote repositories?
As we discussed previously, you can "Git things done" using only a local repository. So why use a remote repository at all?

There are 2 main reasons to use a remote repository:
1. Collaboration
  - work on the same files as your collaborators, using Git to keep track of everyone's contributions
  - let others know exactly what you've been contributing
2. Confidence
  - the remote repo can serve as a backup on the cloud
  - GitHub (for example) is popular enough that they have to take very good care of their servers

In addition, online platforms like GitHub provide some nice GUIs for interacting with your repo and viewing your commit history. These platforms also have a lot of helpful resources and tutorials for using Git both through their platform and from the command line.

## Creating a remote repository
We are going to create a remote repository on GitHub now.

>This is kind of like doing a git init for the remote repository.

1. Go to GitHub and sign in to your account (if you aren't already signed in)
2. Look for the `+` drop-down menu at the top right of the screen
3. Click on `New repository`
4. Name the repository `workshop` (the name should match your local repository)
5. Add a description. This repo will serve as a record of some of what you did in this workshop after you leave, so you may want the description to reflect that
6. DO NOT CHECK `Initialize this repository with a README`. **This is important!!!**
7. Click the drop-down menu labeled `Add a license` and select `MIT License` (it's the most inclusive open source license available)
8. Click `Create repository`

>If we did not already have a local repo, we could have checked `Initialize this repository with a README`. Since we do have a local repo, however, we don't want any files in this remote repo until we have synced it with our local repo.

And voilà! We have just created a remote repository on GitHub!

-------------------------------------------------------------------------------------------------------------
## Linking the remote repo to our local repo
You should now be looking at a GitHub page with `Quick setup — if you’ve done this kind of thing before` at the top of the page.

>You haven't done this kind of thing before, but that's okay. I'm here to help you!

Making sure that the button labeled `HTTPS` is depressed, copy the link to this remote repo that GitHub provides right beneath the title. There is an icon to the right of the link which will copy the link for you if you press it :smile:

Return to your command line, and ***make sure you are in your local repo***.

Type the following git command, pasting the link that you copied:

```bash
git remote add origin [paste copied web address here]
```

>If you are having trouble copy-and-pasting the web address into the command line, you can type it manually. Just be *very careful* that you copy it *exactly!*

Verify that you added the web address correctly (especially important if you had to type it by hand!):

```bash
git remote -v
```

You should get an output like this:

```text
origin	https://github.com/YOUR_USER_NAME_HERE/workshop.git (fetch)
origin	https://github.com/YOUR_USER_NAME_HERE/workshop.git (push)
```

If not, try `git remote add origin [URL]` again, making sure you type it exactly (and without the `[]` brackets).

You have just told Git that your local Git repository (`workshop`) has a remote repository to work from. This remote repo is referred to as the **origin**. This is because the remote repo will serve as the master reference point that Git uses to sync your local and remote repositories. From now on, Git will report the status of your local repo as being ahead/behind your remote repo.

Your ***local repository*** now knows about your remote one.

Now it's time to **push** your local repository up to your remote repository. In general, the state of a local repo is "pushed" to the remote repo using the command `git push`. However, when you push an existing local repo to a new remote repo for the first time, you must use a special version of the command that tells Git to use the "master" branch of the "origin" (the remote repo):

```bash
git push --set-upstream origin master
```

This "pushes" your local repo up to GitHub, and tells Git that the remote repo is the "upstream" origin from which the repository flows :wink:

Return to GitHub, and refresh the page for your remote repository. It should now contain the contents of your local repository!

Congratulations! You've created a remote repository and linked it to an existing local repository!

-------------------------------------------------------------------------------------------------------------
## Using Git on GitHub
So far, we have learned how to use Git to track changes to a repository from the command line. GitHub also allows you to work directly on the remote repository.

Let's try making a few changes to our remote repository. On GitHub, click on the file `readme.txt`.

You should see something like the following. Click on the pencil icon to edit the file.

<img src="/images/GitHub_edit_file.png">

Make some changes to the file.

Notice that GitHub doesn't give you a way to perform a traditional `save` operation. Instead, GitHub has an interface for **committing** your changes to the remote Git repository at the bottom of the screen.

The first box in the interface is were your **commit message** goes. This is the `...` part when you work from the command line and do `git commit --message "..."`.

Add a *precise, concise, and informative* commit message about the changes you just made.

Making sure that `commit directly to the master branch` is still selected, click on `Commit changes`.

GitHub just performed the following for you on the remote repository:

```bash
git add readme.txt
git commit --message "YOUR COMMIT MESSAGE"
```

-------------------------------------------------------------------------------------------------------------
## Keeping your local and remote repositories synced
Great, we just made a nice change to our repository on GitHub! We're all good, right?

Well, actually not really. Our *remote repository* was updated, but our *local repository* is not aware of the changes we made!

Keeping your local and remote repositories synced up is important. It makes sure that you have a single, linear history of commits that both repositories are tracking. If you do work without syncing your repositories, you will ultimately create parallel histories that can be very confusing to straighten out!

To keep the repositories synced, we need two key commands: `git pull` and `git push`.

### Pulling commits from the remote repo into your local repo
Right now, there is a commit in our remote repo that does not exist in our local repo. Let's fix that by **pulling** the current state of the remote repo into our local repo.

Go back to the command line, and make sure you are in your local repository:

```bash
cd ~/Desktop/workshop
```

**Pull** from your remote repo:

```bash
git pull
```

>You will likely be asked to input your GitHub password. Do so.

Notice that Git now provides some information about what it pulled. Can you see how this is a reflection of the changes you made on GitHub? It's pretty cool :sunglasses:

Now you know that your local repo is up-to-date with your remote repo!

### Pushing commits from the local repo into your remote repo
Now that our local repo is up-to-date, let's get to work!

`readme.txt` is still empty from before. Let's add some notes about what we have learned:

```bash
nano Day_1/git/practice.txt
```

Now let's verify that we are on the same page as Git:

```bash
git status
```

Git's reporting that we modified a file. Good! Now let's add those changes to the staging area:

```bash
git add readme.txt
```

Let's double-check that it worked as expected:

```bash
git status
```

Good, Git is reporting the modified file under `Changes to be committed`. Let's commit those changes:

```bash
git commit --message "COMMIT MESSAGE"
```

Very nice, we did some very important work and committed the changes to our local repository. :wink:

But wait a minute! Our remote repository needs to be made aware of those changes! We can handle that with `git push`:

```bash
git push
```

>You may be asked to input your GitHub password. Do so.

That's it! Let's make sure GitHub is reflecting that last commit in our remote repository. Go back to GitHub, refresh the repo page, and take a look!

This gives us an updated picture of what we are doing with Git:

<img src="/images/git_flow.png">

[Image from blog post by Vassilis Kehayas](https://neurathsboat.blog/post/git-intro/)

-------------------------------------------------------------------------------------------------------------
## An Updated Git-based Work Cycle
Now that we have set up a remote repository, let's revisit our Git-based work cycle.

Here's what I do every time I sit down to work on a project that I'm tracking with Git:
1. `git pull` -- Pull changes from the remote repository. I do this even if I haven't changed anything just to be safe and make it a habit.
2. `git log` -- Remind myself of my recent activity in the repository. What are my recent commits?
3. Do some work.
4. `git status` -- Remind myself of the work I just did, in broad strokes (files added, delted, or modified).
6. `git diff` -- Remind myself of the work I just did, in terms of the specific changes made.
7. `git add <file>` -- Once I'm sure I want to commit changes to a given file, I add the file to the staging area.
8. `git commit --message "..."` -- Commit all the changes that I have added to the staging area with a clear message.
 - Repeat steps 3-8 as necessary
9. `git push` -- When I'm done, I push the changes to my remote repository.

-------------------------------------------------------------------------------------------------------------
## Terminology Covered
- **origin** -- The reference point to use when linking a local and a remote repository. Almost always the remote repository. When syncing the two repositories, one will always be considered as ahead or behind the origin.

## Commands Covered
- `git remote add origin [URL]` -- Associate your local repository with the remote repository found at the [URL]
- `git push --set-upstream origin master` (`git push -u origin master` for short) -- If your local repository exists before your remote repository, use this to "push" the local repository into the remote repository **for the first time** (see `git push` below)
- `git pull` -- "Pull" the state of the remote repository into your local repository
- `git push` -- "Push" the state of your local repository into the remote repository
